import requests
from bs4 import BeautifulSoup
x = []
url = "http://www.tianqihoubao.com/lishi/tulufan.html"
urls = []
r = requests.get(url)
soup = BeautifulSoup(r.text, "lxml")
div = soup.find_all("div", attrs={"class": "box pcity"})
for i in range(len(div)):
    for j in range(len(div[i].find_all("a"))):
        urls.append(div[i].find_all("a")[j]["href"])
for i in urls[:148]:
    if "/lishi/" not in i:
        i = "/lishi/" +i
        x.append(i)
    x.append(i)
del(urls[148:])
print(x)
urls = ['/lishi/tulufan/month/201101.html', '/lishi/tulufan/month/201102.html', '/lishi/tulufan/month/201103.html', '/lishi/tulufan/month/201104.html', '/lishi/tulufan/month/201105.html', '/lishi/tulufan/month/201106.html', '/lishi/tulufan/month/201107.html', '/lishi/tulufan/month/201108.html', '/lishi/tulufan/month/201109.html', '/lishi/tulufan/month/201110.html', '/lishi/tulufan/month/201111.html', '/lishi/tulufan/month/201112.html', '/lishi/tulufan/month/201201.html', '/lishi/tulufan/month/201202.html', '/lishi/tulufan/month/201203.html', '/lishi/tulufan/month/201204.html', '/lishi/tulufan/month/201205.html', '/lishi/tulufan/month/201206.html', '/lishi/tulufan/month/201207.html', '/lishi/tulufan/month/201208.html', '/lishi/tulufan/month/201209.html', '/lishi/tulufan/month/201210.html', '/lishi/tulufan/month/201211.html', '/lishi/tulufan/month/201212.html', '/lishi/tulufan/month/201301.html', '/lishi/tulufan/month/201302.html', '/lishi/tulufan/month/201303.html', '/lishi/tulufan/month/201304.html', '/lishi/tulufan/month/201305.html', '/lishi/tulufan/month/201306.html', '/lishi/tulufan/month/201307.html', '/lishi/tulufan/month/201308.html', '/lishi/tulufan/month/201309.html', '/lishi/tulufan/month/201310.html', '/lishi/tulufan/month/201311.html', '/lishi/tulufan/month/201312.html', '/lishi/tulufan/month/201401.html', '/lishi/tulufan/month/201402.html', '/lishi/tulufan/month/201403.html', '/lishi/tulufan/month/201404.html', '/lishi/tulufan/month/201405.html', '/lishi/tulufan/month/201406.html', '/lishi/tulufan/month/201407.html', '/lishi/tulufan/month/201408.html', '/lishi/tulufan/month/201409.html', '/lishi/tulufan/month/201410.html', '/lishi/tulufan/month/201411.html', '/lishi/tulufan/month/201412.html', '/lishi/tulufan/month/201501.html', '/lishi/tulufan/month/201502.html', '/lishi/tulufan/month/201503.html', '/lishi/tulufan/month/201504.html', '/lishi/tulufan/month/201505.html', '/lishi/tulufan/month/201506.html', '/lishi/tulufan/month/201507.html', '/lishi/tulufan/month/201508.html', '/lishi/tulufan/month/201509.html', '/lishi/tulufan/month/201510.html', '/lishi/tulufan/month/201511.html', '/lishi/tulufan/month/201512.html', '/lishi/tulufan/month/201601.html', '/lishi/tulufan/month/201602.html', '/lishi/tulufan/month/201603.html', '/lishi/tulufan/month/201604.html', '/lishi/tulufan/month/201605.html', '/lishi/tulufan/month/201606.html', '/lishi/tulufan/month/201607.html', '/lishi/tulufan/month/201608.html', '/lishi/tulufan/month/201608.html', '/lishi/tulufan/month/201609.html', '/lishi/tulufan/month/201610.html', '/lishi/tulufan/month/201611.html', '/lishi/tulufan/month/201612.html', '/lishi/tulufan/month/201612.html', '/lishi/tulufan/month/201701.html', '/lishi/tulufan/month/201702.html', '/lishi/tulufan/month/201703.html', '/lishi/tulufan/month/201704.html', '/lishi/tulufan/month/201705.html', '/lishi/tulufan/month/201706.html', '/lishi/tulufan/month/201707.html', '/lishi/tulufan/month/201708.html', '/lishi/tulufan/month/201708.html', '/lishi/tulufan/month/201709.html', '/lishi/tulufan/month/201710.html', '/lishi/tulufan/month/201711.html', '/lishi/tulufan/month/201712.html', '/lishi/tulufan/month/201712.html', '/lishi/tulufan/month/201801.html', '/lishi/tulufan/month/201802.html', '/lishi/tulufan/month/201803.html', '/lishi/tulufan/month/201804.html', '/lishi/tulufan/month/201805.html', '/lishi/tulufan/month/201806.html', '/lishi/tulufan/month/201807.html', '/lishi/tulufan/month/201808.html', '/lishi/tulufan/month/201808.html', '/lishi/tulufan/month/201809.html', '/lishi/tulufan/month/201810.html', '/lishi/tulufan/month/201811.html', '/lishi/tulufan/month/201812.html', '/lishi/tulufan/month/201812.html', '/lishi/tulufan/month/201901.html', '/lishi/tulufan/month/201902.html', '/lishi/tulufan/month/201903.html', '/lishi/tulufan/month/201904.html', '/lishi/tulufan/month/201905.html', '/lishi/tulufan/month/201906.html', '/lishi/tulufan/month/201907.html', '/lishi/tulufan/month/201908.html', '/lishi/tulufan/month/201908.html', '/lishi/tulufan/month/201909.html', '/lishi/tulufan/month/201910.html', '/lishi/tulufan/month/201911.html', '/lishi/tulufan/month/201912.html', '/lishi/tulufan/month/201912.html', '/lishi/tulufan/month/202001.html', '/lishi/tulufan/month/202002.html', '/lishi/tulufan/month/202003.html', '/lishi/tulufan/month/202004.html', '/lishi/tulufan/month/202005.html', '/lishi/tulufan/month/202006.html', '/lishi/tulufan/month/202007.html', '/lishi/tulufan/month/202008.html', '/lishi/tulufan/month/202008.html', '/lishi/tulufan/month/202009.html', '/lishi/tulufan/month/202010.html', '/lishi/tulufan/month/202011.html', '/lishi/tulufan/month/202012.html', '/lishi/tulufan/month/202012.html', '/lishi/tulufan/month/202101.html', '/lishi/tulufan/month/202102.html', '/lishi/tulufan/month/202103.html', '/lishi/tulufan/month/202104.html', '/lishi/tulufan/month/202105.html', '/lishi/tulufan/month/202106.html', '/lishi/tulufan/month/202107.html', '/lishi/tulufan/month/202108.html', '/lishi/tulufan/month/202108.html', '/lishi/tulufan/month/202109.html', '/lishi/tulufan/month/202110.html', '/lishi/tulufan/month/202111.html', '/lishi/tulufan/month/202112.html', '/lishi/tulufan/month/202112.html', '/lishi/tulufan/month/202201.html', '/lishi/tulufan/month/202202.html', '/lishi/tulufan/month/202203.html', '/lishi/tulufan/month/202204.html', '/lishi/tulufan/month/202205.html', '/lishi/tulufan/month/202206.html', '/lishi/tulufan/month/202207.html', '/lishi/tulufan/month/202208.html', '/lishi/tulufan/month/202208.html', '/lishi/tulufan/month/202209.html', '/lishi/tulufan/month/202210.html', '/lishi/tulufan/month/202211.html', '/lishi/tulufan/month/202212.html', '/lishi/tulufan/month/202212.html', '/lishi/tulufan/month/202301.html', '/lishi/tulufan/month/202302.html', '/lishi/tulufan/month/202303.html', '/lishi/tulufan/month/202304.html']
# for i in range(len(urls)):
#     if urls[i] =="/lishi/tulufan/month/201907.html":
#         print(i)